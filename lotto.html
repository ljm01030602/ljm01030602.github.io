
<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>수퐁 로또 번호 추첨기</title>
<style>

	body {
		font-family: Arial, sans-serif;
		text-align: center;
		margin: 20px 10px;
		background-color: #f5f5f5;
	}

	/* h1 무지개 깜박임 */
	@keyframes rainbow-text {
		0% { color: red; text-shadow: 0 0 10px red; }
		16% { color: orange; text-shadow: 0 0 10px orange; }
		32% { color: yellow; text-shadow: 0 0 10px yellow; }
		48% { color: green; text-shadow: 0 0 10px green; }
		64% { color: blue; text-shadow: 0 0 10px blue; }
		80% { color: indigo; text-shadow: 0 0 10px indigo; }
		100% { color: violet; text-shadow: 0 0 10px violet; }
	}

	h1 {
		font-size: 28px;
		font-weight: bold;
		animation: rainbow-text 5s linear infinite; /* 3초 주기, 선형 반복 */
	}
    .lotto-container { margin-bottom:5px; display:flex; justify-content:center; gap:10px; flex-wrap:nowrap; overflow-x:auto; padding-bottom:5px; min-height:50px; }
	
    .lotto-ball { width:50px; height:50px; border-radius:50%; background:#ffb300; color:white; display:flex; justify-content:center; align-items:center; font-size:20px; font-weight:bold; flex-shrink:0; transition:0.25s; }
    .lotto-ball.active { background-color:#4caf50; }
    .lotto-ball.confirmed {
		background-color: #9e9e9e; /* 기본 회색 */
		color: white;
	}
	.lotto-ball.confirmed.active {
		background-color: #ff0000; /* 기본 회색 */
		color: yellow; /* 클릭 시 초록색 */
	}
    .numbers-container {display:grid; grid-template-columns:repeat(6,1fr); gap:4px; max-width:450px; margin:0 auto; justify-items:center; align-items:center; }
    .number { width:80%; aspect-ratio:1/1; border:1px solid #ccc; background:white; display:flex; justify-content:center; align-items:center; font-size:14px; cursor:pointer; transition:0.2s; }
    .number.selected { background-color:#1976d2; color:white; border-color:#1976d2; }
    .btn-area { margin-top:25px; display:flex; justify-content:center; gap:10px; flex-wrap:wrap; }
    .btn { padding:10px 18px; font-size:15px; background-color:#1976d2; color:white; border:none; border-radius:8px; cursor:pointer; width:100px; }
    .btn:active { background-color:#0d47a1; }
    .reset-btn { background-color:#e53935; }
    .reset-btn:active { background-color:#c62828; }
	
	.hide {
		display: none !important;
	}
	
	.center-screen {
		display: flex;
		flex-direction: column;
		justify-content: center;
		align-items: center;
		height: 100vh;
	}
</style>
</head>
<body>

<h1>★수퐁대박킹짱★1등 명당</h1>

<div class="lotto-container" id="lottoContainer"></div>

<span id="currentTime" style="font-weight:bold; font-size:16px;"></span>
<div class="numbers-container" id="numbersContainer" style="margin-top:15px;"></div>


<div class="btn-area">
    <button class="btn" id="autoBtn">자동 생성</button>
    <button class="btn" id="confirmBtn" style="background-color:#47406b;">확정</button>
    <button class="btn reset-btn" id="resetBtn">리셋</button>
</div>

<script>
const numbersContainer = document.getElementById('numbersContainer');
const lottoContainer = document.getElementById('lottoContainer');
const autoBtn = document.getElementById('autoBtn');
const confirmBtn = document.getElementById('confirmBtn');
const resetBtn = document.getElementById('resetBtn');

let selectedNumbers = [];
let isConfirmed = false;
// 상단 공 업데이트 + 마지막 공 옆에 시간 표시
let timerId; // 시계 타이머 ID


// 하단 번호 생성
for (let i=1; i<=20; i++){
    const numDiv = document.createElement('div');
    numDiv.textContent = i;
    numDiv.classList.add('number');

    numDiv.addEventListener('click', () => {
        if (!isConfirmed) {
            // 확정 전 선택/해제
            if (selectedNumbers.includes(i)) {
                selectedNumbers = selectedNumbers.filter(n=>n!==i);
                numDiv.classList.remove('selected');
            } else {
                if (selectedNumbers.length < 6){
                    selectedNumbers.push(i);
                    numDiv.classList.add('selected');
                } else {
                    alert('번호는 6개까지만 선택 가능합니다.');
                }
            }
            updateLottoBalls();
        } else {
            // 확정 후: 상단 공 색상 토글
            toggleBallColor(i);
        }
    });

    numbersContainer.appendChild(numDiv);
}

// 상단 공 업데이트
function updateLottoBalls(){
    lottoContainer.innerHTML='';

    selectedNumbers.sort((a,b)=>a-b).forEach(num=>{
        const ball = document.createElement('div');
        ball.textContent = num;
        ball.classList.add('lotto-ball');

        // ★ 확정된 상태일 때 상단 공 클릭 시 색 변경
        ball.addEventListener('click', () => {
            if (isConfirmed) {
                toggleBallColor(num);
            }
        });

        lottoContainer.appendChild(ball);
    });
}

// 상단 공 색상 토글
function toggleBallColor(num){
    const balls = document.querySelectorAll('.lotto-ball');
    balls.forEach(ball=>{
        if(parseInt(ball.textContent)===num){
            ball.classList.toggle('active'); // active 색상 적용
        }
    });
}
// 자동 생성
autoBtn.addEventListener('click', ()=>{
	selectedNumbers=[];
    while(selectedNumbers.length<6){
        const n=Math.floor(Math.random()*20)+1;
        if(!selectedNumbers.includes(n)) selectedNumbers.push(n);
    }
	document.querySelectorAll('.number').forEach(num=>num.classList.remove('selected'));
    selectedNumbers.forEach(n=>document.querySelectorAll('.number')[n-1].classList.add('selected'));
    updateLottoBalls();
    isConfirmed=false;
	numbersContainer.classList.remove("hide");
	document.body.classList.remove("center-screen");
	startClock();
	
});

// 확정 버튼
confirmBtn.addEventListener('click', ()=>{
	if(isConfirmed) return;
	
    if(selectedNumbers.length!==6){
        alert("6개 모두 선택해야 확정 가능합니다.");
        return;
    }

    // 상단 공 회색으로
    document.querySelectorAll('.lotto-ball').forEach(ball=>{
        ball.classList.add('confirmed');
        ball.classList.remove('active');
    });


    // 하단 선택 초기화
    document.querySelectorAll('.number').forEach(num=>num.classList.remove('selected'));
	numbersContainer.classList.add("hide");
	document.body.classList.add("center-screen");
	
    isConfirmed=true;
	
	stopClock();
	
});

// 리셋 버튼
resetBtn.addEventListener('click', ()=>{
	startClock();
    selectedNumbers=[];
    isConfirmed=false;
    lottoContainer.innerHTML='';
    document.querySelectorAll('.number').forEach(num=>num.classList.remove('selected'));
	numbersContainer.classList.remove("hide");
	document.body.classList.remove("center-screen");
});


// 현재 시각 반환
function getCurrentTime(){
    const now = new Date();
    const h = String(now.getHours()).padStart(2,'0');
    const m = String(now.getMinutes()).padStart(2,'0');
    const s = String(now.getSeconds()).padStart(2,'0');
    return `${h}:${m}:${s}`;
}

// 시계 시작
function startClock(){
    stopClock(); // 기존 타이머 초기화
    document.getElementById('currentTime').textContent = getCurrentTime();
    timerId = setInterval(()=>{
        document.getElementById('currentTime').textContent = getCurrentTime();
    }, 1000);
}

// 시계 멈춤
function stopClock(){
    if(timerId) clearInterval(timerId);
    timerId = null;
}


startClock();

</script>
</body>
</html>
